name: ðŸ›¡ï¸ Adaptive Security AI - 24/7 Monitor

on:
  schedule:
    - cron: '*/30 * * * *'     # Cháº¡y má»—i 30 phÃºt
    - cron: '0 */6 * * *'       # Cháº¡y má»—i 6 giá»
  workflow_dispatch:            # Cho phÃ©p cháº¡y thá»§ cÃ´ng

jobs:
  security-monitor:
    runs-on: ubuntu-latest
    steps:
      - name: ðŸ“¥ Checkout code
        uses: actions/checkout@v4
      
      - name: ðŸ” Kiá»ƒm tra há»‡ thá»‘ng
        run: |
          echo "ðŸ›¡ï¸ Adaptive Security AI Running"
          echo "Owner: Dang Viet Quang"
          echo "Time: $(date)"
          echo "Workflow version: v4 (upload-artifact)"
          
      - name: ðŸ“Š Táº¡o bÃ¡o cÃ¡o
        run: |
          mkdir -p reports
          REPORT_FILE="security-report-$(date +%Y%m%d-%H%M%S).txt"
          echo "Security Report $(date)" > "reports/$REPORT_FILE"
          echo "Status: OK" >> "reports/$REPORT_FILE"
          echo "Version: v4" >> "reports/$REPORT_FILE"
          echo "Report created: $REPORT_FILE"
          
      - name: ðŸ“¤ Upload bÃ¡o cÃ¡o (v4)
        uses: actions/upload-artifact@v4
        with:
          name: security-reports-${{ github.run_id }}
          path: reports/
          retention-days: 90
          if-no-files-found: warn
          
      - name: âœ… XÃ¡c nháº­n hoÃ n táº¥t
        run: echo "âœ… Workflow completed successfully with upload-artifact@v4"
